!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).easi=i()}(this,(function(){"use strict";var e,i,n="EasiCustomer/",a="EasiMalaysia/";(i=e||(e={}))[i.success=0]="success",i[i.fail=1]="fail",i[i.cancel=2]="cancel";var t=function(e,i,n){switch(i.complete&&i.complete({errMsg:"".concat(n,":complete")}),e.status){case 0:i.success&&i.success({errMsg:"".concat(n,":ok"),result:null==e?void 0:e.data});break;case 2:i.cancel&&i.cancel({errMsg:"".concat(n,":cancel")});break;case 1:i.fail&&i.fail({message:null==e?void 0:e.message,errMsg:"".concat(n,":fail")})}},s=function(e,i,n,a){!function(e){if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(window.WebViewJavascriptBridge)}),!1),window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var i=document.createElement("iframe");i.style.display="none",i.src="https://__bridge_loaded__",document.documentElement.appendChild(i),setTimeout((function(){document.documentElement.removeChild(i)}),0)}((function(t){t.callHandler(e,i,(function(i){"string"==typeof i&&(i=JSON.parse(i)),n&&n(i,a,e)}))}))},o={status:null,data:{}},c=function(){var e=navigator.userAgent,i=e.includes(n),t=e.includes(a),s=e.includes("Android")||e.includes("android")||e.includes("Linux"),o=e.includes("iPhone")||e.includes("iOS");return{ua:e,isEasi:i,isMalaysia:t,isAndroid:s,isIos:o,version:function(e){var i=e.ua.split(" ");if(i.length>0){var t=e.isMalaysia?a:n;if(i[0].includes(t))return i[0].replace(t,"")}return null}({ua:e,isMalaysia:t})}}();return{config:function(i){i.debug&&console.log("debug:".concat(JSON.stringify(i))),s("config",{jsApiList:i.jsApiList},(function(n){switch(n.status){case e.fail:o.data=n.data||i,o.fail&&o.fail(o.data);break;default:o.status="completes",o.completes&&o.completes()}}),i)},ready:function(e){o.completes=e},error:function(e){o.fail=e},getNetworkType:function(e){s("easi.getNetworkType",{},t,e)},checkJsApi:function(e){s("easi.checkJsApi",{jsApiList:e.jsApiList},t,e)},updateWechatTimelineShareData:function(e){s("easi.updateWechatTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},t,e)},updateWechatMessageShareData:function(e){s("easi.updateWechatMessageShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl,desc:e.desc},t,e)},updateFacebookTimelineShareData:function(e){s("easi.updateFacebookTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},t,e)},copy:function(e){s("easi.copy",{content:e.content},t,e)},chooseImage:function(e){s("easi.chooseImage",{accept:e.accept,compressImage:e.compressImage,capture:e.capture,count:e.count},t,e)},getLocalImageData:function(e){s("easi.getLocalImageData",{localId:e.localId},t,e)},previewImage:function(e){s("easi.previewImage",{current:e.current,urls:e.urls},t,e)},openLocation:function(e){s("easi.openLocation",{latitude:e.latitude,longitude:e.longitude,zoom:e.zoom},t,e)},getLocation:function(e){s("easi.getLocation",{type:e.type||"wgs84"},t,e)},scanQRCode:function(e){s("easi.scanQRCode",{needContent:e.needContent},t,e)},scanBarcode:function(e){s("easi.scanBarcode",{needContent:e.needContent},t,e)},closeWindow:function(){s("easi.closeWindow")},hideMenuBar:function(){s("easi.hideMenuBar")},showMenuBar:function(){s("easi.showMenuBar")},hideMenuItems:function(e){s("easi.hideMenuItems",{menuItems:e.menuItems},t,e)},showMenuItems:function(e){s("easi.showMenuItems",{menuItems:e.menuItems},t,e)},hideNavBar:function(){s("easi.hideNavBar")},showNavBar:function(){s("easi.showNavBar")},openWebPage:function(e){s("easi.openWebPage",{url:e.url})},openAppPage:function(e){s("easi.openWebPage",{scheme:e.scheme})},getUserInfo:function(e){s("easi.getUserInfo",{},t,e)},ua:c.ua,isEasi:c.isEasi,isMalaysia:c.isMalaysia,isAndroid:c.isAndroid,isIos:c.isIos,version:c.version}}));
