!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).easi=n()}(this,(function(){"use strict";var e,n,i="EasiCustomer/",t="EasiMalaysia/";function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function s(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}(n=e||(e={}))[n.success=0]="success",n[n.fail=1]="fail",n[n.cancel=2]="cancel";var c=function(n,i,t){switch(null!=i&&i.complete&&i.complete({errMsg:"".concat(t,":complete")}),n.status){case e[0]:(null==i?void 0:i.success)&&(null==i||i.success(function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){s(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({errMsg:"".concat(t,":ok")},n.data)));break;case e[1]:(null==i?void 0:i.cancel)&&(null==i||i.cancel({errMsg:"".concat(t,":cancel,").concat(n.message)}));break;case e[2]:(null==i?void 0:i.fail)&&(null==i||i.fail({errMsg:"".concat(t,":fail,").concat(n.message)}))}},o=function(e,n,i,t){!function(e){if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(window.WebViewJavascriptBridge)}),!1),window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var n=document.createElement("iframe");n.style.display="none",n.src="https://__bridge_loaded__",document.documentElement.appendChild(n),setTimeout((function(){document.documentElement.removeChild(n)}),0)}((function(a){a.callHandler("".concat(e),n,(function(n){"string"==typeof n&&(n=JSON.parse(n)),i&&i(n,t,e)}))}))},r={},u=function(){var e=navigator.userAgent,n=e.includes(i),a=e.includes(t),s=e.includes("Android")||e.includes("android")||e.includes("Linux"),c=e.includes("iPhone")||e.includes("iOS");return{ua:e,isEasi:n,isMalaysia:a,isAndroid:s,isIos:c,version:function(e){var n=e.ua.split(" ");if(n.length>0){var a=e.isMalaysia?t:i;if(n[0].includes(a))return n[0].replace(a,"")}return null}({ua:e,isMalaysia:a})}}();return{config:function(n){null!=n&&n.debug&&console.log("debug:".concat(JSON.stringify(n))),o("easi.config",{jsApiList:null==n?void 0:n.jsApiList},(function(n){switch(n.status){case e[1]:r.fail&&r.fail({errMsg:n.message||"fail"});break;case e[0]:r.success&&r.success(n.data)}}),n)},ready:function(e){r.success=e},error:function(e){r.fail=e},getNetworkType:function(e){o("easi.getNetworkType",{},c,e)},checkJsApi:function(e){o("easi.checkJsApi",{jsApiList:e.jsApiList},c,e)},updateWechatTimelineShareData:function(e){o("easi.updateWechatTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},c,e)},updateWechatMessageShareData:function(e){o("easi.updateWechatMessageShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl,desc:e.desc},c,e)},updateFacebookTimelineShareData:function(e){o("easi.updateFacebookTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},c,e)},copy:function(e){o("easi.copy",{content:e.content},c,e)},chooseImage:function(e){o("easi.chooseImage",{accept:e.accept,compressImage:e.compressImage,capture:e.capture,count:e.count},c,e)},getLocalImageData:function(e){o("easi.getLocalImageData",{localId:e.localId},c,e)},previewImage:function(e){o("easi.previewImage",{current:e.current,urls:e.urls},c,e)},openLocation:function(e){o("easi.openLocation",{latitude:e.latitude,longitude:e.longitude,zoom:e.zoom},c,e)},getDeviceLocation:function(e){o("easi.getDeviceLocation",{type:e.type||"wgs84"},c,e)},scanQRCode:function(e){o("easi.scanQRCode",{needContent:e.needContent},c,e)},scanBarcode:function(e){o("easi.scanBarcode",{needContent:e.needContent},c,e)},closeWindow:function(){o("easi.closeWindow")},hideMenuBar:function(){o("easi.hideMenuBar")},showMenuBar:function(){o("easi.showMenuBar")},hideMenuItems:function(e){o("easi.hideMenuItems",{menuItems:e.menuItems},c,e)},showMenuItems:function(e){o("easi.showMenuItems",{menuItems:e.menuItems},c,e)},hideNavBar:function(){o("easi.hideNavBar")},showNavBar:function(){o("easi.showNavBar")},openWebPage:function(e){o("easi.openWebPage",{url:e.url})},openAppPage:function(e){o("easi.openWebPage",{scheme:e.scheme})},getUserInfo:function(e){o("easi.getUserInfo",{},c,e)},ua:u.ua,isEasi:u.isEasi,isMalaysia:u.isMalaysia,isAndroid:u.isAndroid,isIos:u.isIos,version:u.version}}));
