<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="getVersion()">获取版本信息</button>
    <button onclick="getLocation()">获取经纬度</button>
    <button onclick="scan()">扫码</button>
    <button onclick="user()">获取用户信息</button>
    <button onclick="login()">唤起登录</button>
    <button onclick="addCart(4167467,true)">添加到购物车-单规格(显示)</button>
    <button onclick="addCart(4167467,false)">添加到购物车-单规格(不显示)</button>
    <button onclick="addCart(4167473,true)">添加到购物车-多规格(显示)</button>
    <button onclick="addCart(4167473,false)">添加到购物车-多规格(不显示)</button>
    <button onclick="showCart(true)">全局购物车(显示)</button>
    <button onclick="showCart(false)">全局购物车(不显示)</button>
    <button onclick="test()">测试异常</button>
    <button onclick="share()">分享</button>
    <script src="../dist/umd/index.js"></script>
    <script>
        let easi = new Easi.Easi();
        let isShow = true; // 是否显示

        function getVersion() {
            easi.getVersion((result) => {
                alert(JSON.stringify(result));
            });
        }

        function getLocation() {
            easi.getLocation((result) => {
                alert(JSON.stringify(result));
            });
        }

        function scan() {
            easi.scan((result) => {
                alert(JSON.stringify(result));
            });
        }

        function user() {
            easi.user((result) => {
                alert(JSON.stringify(result));
            });
        }

        function login() {
            easi.login((result) => {
                alert(JSON.stringify(result));
            });
        }


        function addCart(id, show) {
            let idx = Math.floor(Math.random() + 0.5)
            easi.addCart((result) => {
                alert(JSON.stringify(result));
            }, {
                itemId: id,
                openDetails: show
            });
        }

        function showCart(show) {
            easi.showCart((result) => {
                alert(JSON.stringify(result));
            }, {
                show: show
            });
        }

        function test() {
            easi.test((result) => {
                alert(JSON.stringify(result));
            });
        }

        function share() {
            easi.wx_share('跳转链接', '标题', '描述', 1);// mode=1代表分享微信好友
            easi.wx_share('跳转链接', '标题', '描述', 2);// mode=2代表分享微信朋友圈
        }
    </script>
</body>

</html>