!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).easi=n()}(this,(function(){"use strict";var e,n,a="EasiCustomer/",i="EasiMalaysia/";(n=e||(e={}))[n.success=0]="success",n[n.fail=1]="fail",n[n.cancel=2]="cancel";var t=function(e,n,a){switch(n.complete&&n.complete({errMsg:"".concat(a,":complete")}),e.status){case 0:n.success&&n.success({errMsg:"".concat(a,":ok"),result:null==e?void 0:e.data});break;case 2:n.cancel&&n.cancel({errMsg:"".concat(a,":cancel")});break;case 1:n.fail&&n.fail({message:null==e?void 0:e.message,errMsg:"".concat(a,":fail")})}},s=function(e,n,a,i){!function(e){if(window.WebViewJavascriptBridge)return e(window.WebViewJavascriptBridge);if(document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(window.WebViewJavascriptBridge)}),!1),window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var n=document.createElement("iframe");n.style.display="none",n.src="https://__bridge_loaded__",document.documentElement.appendChild(n),setTimeout((function(){document.documentElement.removeChild(n)}),0)}((function(t){t.callHandler(e,n,(function(n){"string"==typeof n&&(n=JSON.parse(n)),a&&a(n,i,e)}))}))},c={status:null,data:{}};return{config:function(n){n.debug&&console.log("debug:".concat(JSON.stringify(n))),s("config",{jsApiList:n.jsApiList},(function(a){switch(a.status){case e.fail:c.data=a.data||n,c.fail&&c.fail(c.data);break;default:c.status="completes",c.completes&&c.completes()}}),n)},ready:function(e){c.completes=e},error:function(e){c.fail=e},getEnv:function(){var e=navigator.userAgent,n=e.includes(a),t=e.includes(i),s=e.includes("Android")||e.includes("android")||e.includes("Linux"),c=e.includes("iPhone")||e.includes("iOS");return{ua:e,isEasi:n,isMalaysia:t,isAndroid:s,isIos:c,version:function(e){var n=e.ua.split(" ");if(n.length>0){var t=e.isMalaysia?i:a;if(n[0].includes(t))return n[0].replace(t,"")}return null}({ua:e,isMalaysia:t})}},getNetworkType:function(e){s("easi.getNetworkType",{},t,e)},checkJsApi:function(e){s("easi.checkJsApi",{jsApiList:e.jsApiList},t,e)},updateWechatTimelineShareData:function(e){s("easi.updateWechatTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},t,e)},updateWechatMessageShareData:function(e){s("easi.updateWechatMessageShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl,desc:e.desc},t,e)},updateFacebookTimelineShareData:function(e){s("easi.updateFacebookTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},t,e)},copy:function(e){s("easi.copy",{content:e.content},t,e)},chooseImage:function(e){s("easi.chooseImage",{accept:e.accept,compressImage:e.compressImage,capture:e.capture,count:e.count},t,e)},getLocalImageData:function(e){s("easi.getLocalImageData",{localId:e.localId},t,e)},previewImage:function(e){s("easi.previewImage",{current:e.current,urls:e.urls},t,e)},openLocation:function(e){s("easi.openLocation",{latitude:e.latitude,longitude:e.longitude,zoom:e.zoom},t,e)},getLocation:function(e){s("easi.getLocation",{type:e.type||"wgs84"},t,e)},scanQRCode:function(e){s("easi.scanQRCode",{needContent:e.needContent},t,e)},scanBarcode:function(e){s("easi.scanBarcode",{needContent:e.needContent},t,e)},closeWindow:function(){s("easi.closeWindow")},hideMenuBar:function(){s("easi.hideMenuBar")},showMenuBar:function(){s("easi.showMenuBar")},hideMenuItems:function(e){s("easi.hideMenuItems",{menuItems:e.menuItems},t,e)},showMenuItems:function(e){s("easi.showMenuItems",{menuItems:e.menuItems},t,e)},hideNavBar:function(){s("easi.hideNavBar")},showNavBar:function(){s("easi.showNavBar")},openWebPage:function(e){s("easi.openWebPage",{url:e.url})},openAppPage:function(e){s("easi.openWebPage",{scheme:e.scheme})},getUserInfo:function(e){s("easi.getUserInfo",{},t,e)}}}));
